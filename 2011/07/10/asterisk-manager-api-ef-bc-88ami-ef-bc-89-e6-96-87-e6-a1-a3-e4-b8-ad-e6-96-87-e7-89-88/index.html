<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content>
    <meta name="keyword" content>
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          Asterisk manager API（AMI）文档(中文版) - Joseph Han | Blog
        
    </title>

    <link rel="canonical" href="http://joseph-bing-han.github.io/2011/07/10/asterisk-manager-api-ef-bc-88ami-ef-bc-89-e6-96-87-e6-a1-a3-e4-b8-ad-e6-96-87-e7-89-88/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/css/beantech.min.css">

    <link rel="stylesheet" href="/css/donate.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <link rel="stylesheet" href="/css/widget.css">

    <link rel="stylesheet" href="/css/rocket.css">

    <link rel="stylesheet" href="/css/signature.css">

    <link rel="stylesheet" href="/css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('/img/article_header/article_bg.jpg')
            /*post*/
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#开发相关" title="开发相关">开发相关</a>
                            
                              <a class="tag" href="/tags/#asterisk" title="asterisk">asterisk</a>
                            
                        </div>
                        <h1>Asterisk manager API（AMI）文档(中文版)</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by Joseph Han on
                            2011-07-10
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Blog of Joseph Han</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <p>转自<a href="http://blog.csdn.net/seven407/article/details/5292110" target="_blank" rel="noopener">seven407的专栏</a></p>
<p>Asterisk控制接口（AMI）允许管理客户端程序连接到一个asterisk实例并且可以通过TCP/IP流发送命令或读取事件。这在试图跟踪asterisk的状态或其中的电话客户端状态时很有用，<strong>AMI</strong>说明了客户端基于的一般(可能是动态的)规则。</p>
<p>一种简单的”key: value”协议用于已连接的管理客户端和asteriskＰＢＸ之间的信息传递。每行都用回车换行（/r/n）来结束。</p>
<p>&nbsp;</p>
<p><strong>协议特点：</strong></p>
<p>在发送命令前，你必须建立一个连接。</p>
<p>在认证后，数据包任何时间都可以在两个方向上互相传输。</p>
<p>数据包第一行为”Action”时表明是由管理客户端发送到asterisk，第一行为”Event”或”Response”表明有asterisk发送到管理客户端。数据包内各行顺序可以变化，对数据包没有影响。</p>
<p>回车换行由于区分每一行，空行（两个连续回车换行）用于表明命令结束，Asterisk开始处理命令。</p>
<p>&nbsp;</p>
<p><strong>数据包类型：</strong></p>
<p>数据包的类型通过一下几种关键字来划分</p>
<p>Action:一个由管理客户端发送到Asterisk的数据包，请求执行特定的动作。只有有限的几种动作供客户端使用，每个动作是由Asterisk服务器上的模块所决定的。一次只能执行一个动作，该动作数据包包含了动作名称以及执行所必需的参数。</p>
<p>Response:Asterisk对管理客户端动作的响应。</p>
<p>Event: 有关Asterisk核心或扩展模块发生事件的信息。</p>
<p>&nbsp;</p>
<p><strong>建立管理连接和用户身份验证：</strong></p>
<p>为了与Asterisk进行管理通话，管理客 户端必须建立到Asterisk服务器侦听端口（一般是5038）的TCP/IP连接，并使用登陆动作进行身份验证。这就要求在Asterisk服务器上 创建用户账户，用户账户在/etc/asterisk/manager.conf中配置。账户由允许登陆的主机，登录密码以及被授予的权限列表组成。</p>
<p>登录和身份验证的经理，你必须发送一个” <em>登录</em> “行动，用您的用户名和秘密（密码作为参数）。 Here is an example:下面是一个例子：</p>
<p>Action: login<br>Username: admin<br>Secret: secret</p>
<p>&nbsp;</p>
<p>你还可以通过”Events: off”阻止事件数据包发送到你的连接。例如：</p>
<p>Action: login<br>Username: admin<br>Secret: secret<br>Events: off</p>
<p>&nbsp;</p>
<p><strong>动作数据包：</strong></p>
<p>向Asterisk发送动作时，额外的关键字可以提供进一步的动作信息。例如，你可能希望指定号码或通道的断开。此外，如果您的操作会导致Asterisk来执行拨号规则中的条目，你可以传递变量给拨号规则。这与你传递关键字的方式是一样的。</p>
<p>向Asterisk发送动作数据包时，按照以下格式：</p>
<p>Action: &lt;<em>action type</em>&gt;&lt;<em>CRLF</em>&gt;<br>&lt;<em>Key 1</em>&gt;: &lt;<em>Value 1</em>&gt;&lt;<em>CRLF</em>&gt;<br>&lt;<em>Key 2</em>&gt;: &lt;<em>Value 2</em>&gt;&lt;<em>CRLF</em>&gt;<br>…<br>Variable: &lt;<em>Variable 1</em>&gt;=&lt;<em>Value 1</em>&gt;&lt;<em>CRLF</em>&gt;<br>Variable: &lt;<em>Variable 2</em>&gt;=&lt;<em>Value 2</em>&gt;&lt;<em>CRLF</em>&gt;<br>…<br>&lt;<em>CRLF</em>&gt;</p>
<p>&nbsp;</p>
<p><strong>管理动作（</strong> <strong>Action</strong> <strong>）：</strong></p>
<p>通过CLI命令show manager commands的输出结果就是管理动作列表。</p>
<p>具体如下：</p>
<p><strong>AbsoluteTimeout</strong> <strong>：</strong>这个命令将要求Asterisk在指定秒数后挂断特定的通道，从而有效地结束通话。</p>
<p>参数：</p>
<p>Channel :哪些渠道挂断，如SIP/123-1c20</p>
<p>Timeout :到通道应挂断的秒数</p>
<p>例子：</p>
<p>请求信息</p>
<p>Action: AbsoluteTimeout</p>
<p>Channel: SIP/123-1c20</p>
<p>Timeout: 20</p>
<p>&nbsp;</p>
<p>返回成功信息</p>
<p>Response: Success</p>
<p>Message: Timeout Set</p>
<p>&nbsp;</p>
<p>返回失败信息</p>
<p>Response: Error</p>
<p>Message: No such channel</p>
<p>&nbsp;</p>
<p><strong>ChangeMonitor</strong> <strong>：</strong>更改记录某通道信息文件名。</p>
<p>参数：</p>
<p>Channel：通道名称</p>
<p>File：文件名</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送请求</p>
<p>ACTION: ChangeMonitor</p>
<p>Channel: SIP/x7065558529-1c20</p>
<p>File: 20050103-140105_cc51</p>
<p>&nbsp;</p>
<p>返回失败信息</p>
<p>Response: Error</p>
<p>Message: No such channel</p>
<p>&nbsp;</p>
<p>返回成功信息</p>
<p>Response: Success</p>
<p>Message: Stopped monitoring channel</p>
<p>&nbsp;</p>
<p><strong>Command</strong> <strong>：</strong>发送Asterisk CLI命令。</p>
<p>参数：</p>
<p>Command：Asterisk CLI 命令。</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送请求</p>
<p>ACTION: COMMAND</p>
<p>command: Show Channels</p>
<p>&nbsp;</p>
<p>返回信息</p>
<p>Response: Follows</p>
<p>Channel (Context Extension Pri ) State Appl. Data</p>
<p>0 active channel(s)</p>
<p>–END COMMAND-</p>
<p>&nbsp;</p>
<p>注意：返回的事件响应结果并不是发送一个回车换行（/r/n）,而只发送回车（/n）,如果你在中断处理程序中只等待回车换行，那么这条信息将会被被抛弃。</p>
<p>例如command返回信息如下：</p>
<p>Response: Follows/r/n<br>Channel Location State Application(Data)/n<br>SIP/x7065551212b-1af (None) Ringing AppDial((Outgoing Line))/n<br>SIP/x7065551212c-2aa 29@default:2 Ring Dial(SIP/x7065551212b)/n<br>2 active channels/n<br>1 active call/r/n<br>–END COMMAND–/r/n<br>/r/n</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Events</strong> <strong>：</strong>事件控制流，用于启用/禁用发送给管理客户端的事件。</p>
<p>参数：</p>
<p>EventMask: ‘on’表示所有事件均会被发送到管理客户端。</p>
<p>‘off’表示所有时间都不会被发送。</p>
<p>‘system,call,log’用于选择被发送的事件。</p>
<p>提示：有些事件是启用或禁已经在.conf文件中配置了， They might be disabled by default.他们可能是默认为禁用。</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>注意在此例子中EventMask事件没有立即返回的响应信息，只有在设备注销时才返回相关信息。</p>
<p>发送请求：</p>
<p>ACTION: EVENTS<br>EVENTMASK: ON<br>返回信息：<br>Event: PeerStatus<br>Peer: SIP/ChannelName<br>PeerStatus: Unregistered<br>Cause: Expired</p>
<p>&nbsp;</p>
<p>当EventMask参数为’off’时会立即返回响应信息，如下：</p>
<p>发送：</p>
<p>ACTION: EVENTS<br>EVENTMASK: OFF<br>返回：<br>Response: Events Off</p>
<p>&nbsp;</p>
<p><strong>ExtensionState</strong> <strong>：</strong>检查分机的状态。</p>
<p>参数：Exten，Context，ActionID</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>ACTION: ExtensionState</p>
<p>Context: default</p>
<p>Exten: 2001</p>
<p>ActionID: 1</p>
<p>&nbsp;</p>
<p>接收：</p>
<p>Response: Success</p>
<p>ActionID: 1</p>
<p>Message: Extension Status</p>
<p>Exten: 2001</p>
<p>Context: default</p>
<p>Hint: SIP/2001</p>
<p>Status: 0</p>
<p>&nbsp;</p>
<p>Status状态代码：</p>
<p>-1 =扩展找不到</p>
<p>0 =空闲</p>
<p>1 =在使用</p>
<p>2 =忙</p>
<p>4 =不可用</p>
<p>8 =振铃</p>
<p>16 =正等待</p>
<p>&nbsp;</p>
<p><strong>GetVar</strong>：获取一个通道变量。</p>
<p>参数：Channel，Variable，actionID</p>
<p>ActionID是一个可选的参数匹配信息。</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>ACTION: GetVar</p>
<p>Channel: SIP/5060-44d225d0</p>
<p>Variable: extension</p>
<p>成功返回：</p>
<p>Response: Success</p>
<p>Value: 17065551419</p>
<p>失败返回：</p>
<p>Response: Error</p>
<p>Message: No such channel</p>
<p>或</p>
<p>Response: Success</p>
<p>varname: (null)</p>
<p>&nbsp;</p>
<p>Hangup：挂断指定通道。</p>
<p>参数：Channel</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>&nbsp;</p>
<p>发送：</p>
<p>ACTION: Hangup</p>
<p>Channel: SIP/x7065558529-99a0</p>
<p>&nbsp;</p>
<p>接收：</p>
<p>Event: Unlink</p>
<p>Channel1: SIP/127.180.254.109-44df88e8</p>
<p>Channel2: SIP/x7065558529-99a0</p>
<p>Uniqueid1: 1124989110.20473</p>
<p>Uniqueid2: 1124989110.20474</p>
<p>&nbsp;</p>
<p>Event: Hangup</p>
<p>Channel: SIP/x7065558529-99a0</p>
<p>Uniqueid: 1124989110.20474</p>
<p>Cause: 16</p>
<p>&nbsp;</p>
<p>Event: Hangup</p>
<p>Channel: SIP/127.180.254.109-44df88e8</p>
<p>Uniqueid: 1124989110.20473</p>
<p>Cause: 16</p>
<p>&nbsp;</p>
<p>Response: Success</p>
<p>Message: Channel Hungup</p>
<p>&nbsp;</p>
<p><strong>IAXpeers</strong> <strong>：</strong>显示iax信息列表。</p>
<p>例子：</p>
<p>&nbsp;</p>
<p>发送：</p>
<p>Action: IAXPeers</p>
<p>&nbsp;</p>
<p>接收：</p>
<p>Name/Username Host Mask Port Status</p>
<p>8002 (Unspecified) (D) 255.255.255.255 0 UNKNOWN</p>
<p>8001 192.168.0.91 (D) 255.255.255.255 4569 OK (5 ms)</p>
<p>2 iax2 peers [1 online, 1 offline, 0 unmonitored]</p>
<p>&nbsp;</p>
<p><strong>ListCommands</strong> <strong>：</strong>显示命令列表。</p>
<p>参数：ActionID</p>
<p>&nbsp;</p>
<p>例子:</p>
<p>发送：</p>
<p>Action：ListCommands</p>
<p>接收：Response: Success</p>
<p>AbsoluteTimeout: Set Absolute Timeout (Priv: call,all)</p>
<p>AgentCallbackLogin: Sets an agent as logged in by callback (Priv: agent,all)</p>
<p>AgentLogoff: Sets an agent as no longer logged in (Priv: agent,all)</p>
<p>Agents: Lists agents and their status (Priv: agent,all)</p>
<p>ChangeMonitor: Change monitoring filename of a channel (Priv: call,all)</p>
<p>Command: Execute Asterisk CLI Command (Priv: command,all)</p>
<p>DBGet: Get DB Entry (Priv: system,all)</p>
<p>DBPut: Put DB Entry (Priv: system,all)</p>
<p>Events: Control Event Flow (Priv: )</p>
<p>ExtensionState: Check Extension Status (Priv: call,all)</p>
<p>Getvar: Gets a Channel Variable (Priv: call,all)</p>
<p>Hangup: Hangup Channel (Priv: call,all)</p>
<p>IAXnetstats: Show IAX Netstats (Priv: )</p>
<p>IAXpeers: List IAX Peers (Priv: )</p>
<p>ListCommands: List available manager commands (Priv: )</p>
<p>Logoff: Logoff Manager (Priv: )</p>
<p>MailboxCount: Check Mailbox Message Count (Priv: call,all)</p>
<p>MailboxStatus: Check Mailbox (Priv: call,all)</p>
<p>MeetmeMute: Mute a Meetme user (Priv: call,all)</p>
<p>MeetmeUnmute: Unmute a Meetme user (Priv: call,all)</p>
<p>Monitor: Monitor a channel (Priv: call,all)</p>
<p>Originate: Originate Call (Priv: call,all)</p>
<p>Park: Park a channel (Priv: call,all)</p>
<p>ParkedCalls: List parked calls (Priv: )</p>
<p>PauseMonitor: Pause monitoring of a channel (Priv: call,all)</p>
<p>Ping: Keepalive command (Priv: )</p>
<p>PlayDTMF: Play DTMF signal on a specific channel. (Priv: call,all)</p>
<p>QueueAdd: Add interface to queue. (Priv: agent,all)</p>
<p>QueuePause: Makes a queue member temporarily unavailable (Priv: agent,all)</p>
<p>QueueRemove: Remove interface from queue. (Priv: agent,all)</p>
<p>Queues: Queues (Priv: )</p>
<p>QueueStatus: Queue Status (Priv: )</p>
<p>Redirect: Redirect (transfer) a call (Priv: call,all)</p>
<p>SetCDRUserField: Set the CDR UserField (Priv: call,all)</p>
<p>Setvar: Set Channel Variable (Priv: call,all)</p>
<p>SIPpeers: List SIP peers (text format) (Priv: system,all)</p>
<p>SIPshowpeer: Show SIP peer (text format) (Priv: system,all)</p>
<p>Status: Lists channel status (Priv: call,all)</p>
<p>StopMonitor: Stop monitoring a channel (Priv: call,all)</p>
<p>UnpauseMonitor: Unpause monitoring of a channel (Priv: call,all)</p>
<p>UserEvent: Send an arbitrary event (Priv: user,all)</p>
<p>WaitEvent: Wait for an event to occur (Priv: )</p>
<p>ZapDialOffHook: Dial over channel while offhook (Priv: )</p>
<p>ZapDNDoff: Toggle channel Do Not Disturb status OFF (Priv: )</p>
<p>ZapDNDon: Toggle channel Do Not Disturb status ON (Priv: )</p>
<p>ZapHangup: Hangup Channel (Priv: )</p>
<p>ZapRestart: Fully Restart channels (terminates calls) (Priv: )</p>
<p>ZapShowChannels: Show status channels (Priv: )</p>
<p>ZapTransfer: Transfer Channel (Priv: )</p>
<p>&nbsp;</p>
<p><strong>Logoff</strong> <strong>：</strong>注销管理客户端。</p>
<p>例子：</p>
<p>发送：</p>
<p>ACTION: LOGOFF</p>
<p>接收：</p>
<p>Response: Goodbye</p>
<p>Message: Thanks for all the fish.</p>
<p>&nbsp;</p>
<p><strong>MailboxCount</strong> <strong>：</strong>检查语音信箱是否有新信息。</p>
<p>参数：MailBox，actionID</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: MailboxCount</p>
<p>Mailbox: 2001@device</p>
<p>接收:</p>
<p>Response: Success</p>
<p>Message: Mailbox Message Count</p>
<p>Mailbox: 2001@device</p>
<p>NewMessages: 1</p>
<p>OldMessages: 0</p>
<p>&nbsp;</p>
<p><strong>MailboxStatus:</strong>检查语音信箱状态。</p>
<p>参数：MailBox，actionID</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: MailboxStatus</p>
<p>Mailbox: 2001@device</p>
<p>接收:</p>
<p>Response: Success</p>
<p>Message: Mailbox Status</p>
<p>Mailbox: 2001@device</p>
<p>Waiting: 1</p>
<p>&nbsp;</p>
<p>Monitor：监听某个通道。</p>
<p>参数：Channel, File, Format, Mix</p>
<p>例子：</p>
<p>发送:</p>
<p>ACTION: Monitor</p>
<p>Channel: SIP/x7062618529-643d</p>
<p>File: channelsavefile</p>
<p>Mix: 1</p>
<p>&nbsp;</p>
<p>返回：</p>
<p>Response: Success</p>
<p>Message: Started monitoring channel</p>
<p>&nbsp;</p>
<p>失败返回</p>
<p>Response: Error</p>
<p>Message: No such channel</p>
<p>&nbsp;</p>
<p><strong>Originate</strong> <strong>：</strong>产生一个呼叫。<strong>(privilege: call,all)</strong></p>
<p>参数：</p>
<p>Channel：呼叫连接产生的通道。</p>
<p>Context：呼叫连接所使用的Context（Context，Exten，Priority必须同时使用）</p>
<p>Exten： 呼叫连接所使用的分机（Context，Exten，Priority必须同时使用）</p>
<p>&nbsp;</p>
<p>Priority：呼叫连接的优先级。（Context，Exten，Priority必须同时使用）</p>
<p>TimeOut：呼叫连接的超时（，单位为毫秒，默认为30000毫秒）</p>
<p>CallID：呼叫连接的来电显示。</p>
<p>Variable：通道变量设置。本地通道和连接通道都将被设置。</p>
<p>Account：呼叫所用密码。</p>
<p>Application：使用此次呼叫的应用程序。（使用参数和数据）</p>
<p>Data：应用程序参数所使用的数据。</p>
<p>Async：呼叫是否为异步。（允许多次调用不等待响应生成）</p>
<p>ActionID<strong>：</strong>请 求标识符。 It allows you to identify the response to this  request.它允许您确定这一请求的响应信息。 You may use a number or a string. Useful when  you make several simultaneous requests.当您有用几个并发请求，您可以使用一个数字或字符串来区分。</p>
<p>&nbsp;</p>
<p>事件的顺序:首先SGI通道鸣响，然后当他被接听后，通过上下文呼叫另一端的分机。注意超时只用于呼叫通道，呼叫分机时的超时另外指定。</p>
<p>&nbsp;</p>
<p>使用_异步_导致1 <strong>OriginateResponse</strong>事件，包含了失败的_原因_。 Reason may be one of the following:原因可能是下列之一：<br>0 = no such extension or number 0 =没有这样的延长或编号<br>1 = no answer 1 =无应答<br>4 = answered 4 =回答<br>8 = congested or not available 8 =拥挤或不可用</p>
<p>&nbsp;</p>
<p>例1（从SIP通道呼叫一个分机，这将导致外部呼叫无法产生直到sip通道挂断）</p>
<p>发送：</p>
<p>Action: Originate<br>Channel: SIP/101test<br>Context: default<br>Exten: 8135551212<br>Priority: 1<br>Callerid: 3125551212<br>Timeout: 30000<br>Variable: var1=23|var2=24|var3=25<br>ActionID: ABC45678901234567890</p>
<p>&nbsp;</p>
<p>分机8135551212是外呼号码。这个例子表明了变量的使用方法</p>
<p>&nbsp;</p>
<p>例2（从呼出通道呼叫一个本地分机，这将导致该分机不再响铃直到zap通道挂断）</p>
<p>发送：</p>
<p>Action: Originate</p>
<p>Channel: Zap/g2/8135551212</p>
<p>Context: default</p>
<p>Exten: 101</p>
<p>Priority: 1</p>
<p>Timeout: 30000</p>
<p>Callerid: 3125551212</p>
<p>&nbsp;</p>
<p>101为一个本地分机号。</p>
<p>&nbsp;</p>
<p>例3（运行系统命令）</p>
<p>发送：</p>
<p>Action: Originate<br>Channel: Local/1@dummy<br>Application: system<br>Data: /path/to/script</p>
<p>&nbsp;</p>
<p>提示：如果你希望通道连接到任意分机和上下文，需要指定一个本地通道</p>
<p>&nbsp;</p>
<p><strong>ParkedCalls</strong> <strong>：</strong>设置显示保持的呼叫列表。</p>
<p>参数：ActionID</p>
<p>发送：</p>
<p>Action: PakedCalls</p>
<p>&nbsp;</p>
<p>返回：</p>
<p>Response: Success<br>Message: Parked calls will follow</p>
<p>Event: ParkedCallsComplete</p>
<p><strong>Ping</strong></p>
<p>例子：</p>
<p>发送：</p>
<p>Action: ping</p>
<p>返回：</p>
<p>Response: Pong</p>
<p>&nbsp;</p>
<p><strong>QueueAdd</strong> <strong>：</strong>添加队列成员。</p>
<p>参数：</p>
<p>Queue：添加成员的队列名。</p>
<p>Interface: 成员名（例如sip/2001）</p>
<p>Penalty：数值，值越高越靠后。</p>
<p>Paused：暂停（true）或不暂停（false）</p>
<p>ActionID：（前面已介绍）</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: QueueAdd<br>Queue: 200<br>Interface: sip/3001<br>Penalty: 1<br>Paused: true</p>
<p>返回：</p>
<p>Response: Success</p>
<p>Message: Added interface to queue</p>
<p>&nbsp;</p>
<p>Event: QueueMemberAdded</p>
<p>Privilege: agent,all</p>
<p>Queue: 200</p>
<p>Location: sip/3001</p>
<p>MemberName: sip/3001</p>
<p>Membership: dynamic</p>
<p>Penalty: 1</p>
<p>CallsTaken: 0</p>
<p>LastCall: 0</p>
<p>Status: 5</p>
<p>Paused: 1</p>
<p>&nbsp;</p>
<p><strong>QueueRemove</strong> <strong>：</strong>移除队列成员。</p>
<p>参数：</p>
<p>Queue：移除成员的队列名。</p>
<p>Interface: 成员名（例如sip/2001）</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: QueueRemove<br>Queue: 200<br>Interface: sip/3001</p>
<p>返回：</p>
<p>Response: Success</p>
<p>Message: Removed interface from queue</p>
<p>&nbsp;</p>
<p>Event: QueueMemberRemoved</p>
<p>Privilege: agent,all</p>
<p>Queue: 200</p>
<p>Location: sip/3001</p>
<p>MemberName: sip/3001</p>
<p>&nbsp;</p>
<p><strong>Queues</strong> <strong>：</strong>返回全部队列的配置以及电话数据信息。</p>
<p>例子：</p>
<p>发送：</p>
<p>Action： Queues</p>
<p>返回：</p>
<p>200 has 0 calls (max unlimited) in ‘ringall’ strategy (0s holdtime), W:0, C:0, A:0, SL:0.0% within 0s</p>
<p>Members:</p>
<p>Local/2002@from-internal/n (Invalid) has taken no calls yet</p>
<p>Local/2003@from-internal/n (Invalid) has taken no calls yet</p>
<p>Local/2001@from-internal/n (Invalid) has taken no calls yet</p>
<p>No Callers</p>
<p>&nbsp;</p>
<p>default has 0 calls (max unlimited) in ‘ringall’ strategy (0s holdtime), W:0, C:0, A:0, SL:0.0% within 0s</p>
<p>No Members</p>
<p>No Callers</p>
<p>&nbsp;</p>
<p><strong>QueueStatus</strong> <strong>：</strong>返回全部队列的电话数据信息。</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: QueueStatus</p>
<p>返回：</p>
<p>Response: Success</p>
<p>Message: Queue status will follow</p>
<p>&nbsp;</p>
<p>Event: QueueParams</p>
<p>Queue: 200</p>
<p>Max: 0</p>
<p>Calls: 0</p>
<p>Holdtime: 0</p>
<p>Completed: 0</p>
<p>Abandoned: 0</p>
<p>ServiceLevel: 0</p>
<p>ServicelevelPerf: 0.0</p>
<p>Weight: 0</p>
<p>&nbsp;</p>
<p>Event: QueueMember</p>
<p>Queue: 200</p>
<p>Name: Local/2002@from-internal/n</p>
<p>Location: Local/2002@from-internal/n</p>
<p>Membership: static</p>
<p>Penalty: 0</p>
<p>CallsTaken: 0</p>
<p>LastCall: 0</p>
<p>Status: 4</p>
<p>Paused: 0</p>
<p>&nbsp;</p>
<p>Event: QueueMember</p>
<p>Queue: 200</p>
<p>Name: Local/2003@from-internal/n</p>
<p>Location: Local/2003@from-internal/n</p>
<p>Membership: static</p>
<p>Penalty: 0</p>
<p>CallsTaken: 0</p>
<p>LastCall: 0</p>
<p>Status: 4</p>
<p>Paused: 0</p>
<p>&nbsp;</p>
<p>Event: QueueMember</p>
<p>Queue: 200</p>
<p>Name: Local/2001@from-internal/n</p>
<p>Location: Local/2001@from-internal/n</p>
<p>Membership: static</p>
<p>Penalty: 0</p>
<p>CallsTaken: 0</p>
<p>LastCall: 0</p>
<p>Status: 4</p>
<p>Paused: 0</p>
<p>&nbsp;</p>
<p>Event: QueueParams</p>
<p>Queue: default</p>
<p>Max: 0</p>
<p>Calls: 0</p>
<p>Holdtime: 0</p>
<p>Completed: 0</p>
<p>Abandoned: 0</p>
<p>ServiceLevel: 0</p>
<p>ServicelevelPerf: 0.0</p>
<p>Weight: 0</p>
<p>&nbsp;</p>
<p>Event: QueueStatusComplete</p>
<p>&nbsp;</p>
<p><strong>Redirect</strong> <strong>：</strong>重定向一个呼叫。</p>
<p>参数：</p>
<p>Channel：重定向的通道。</p>
<p>ExtraChannel：重定向的第二通道（可选）</p>
<p>Exten：重定向的分机。</p>
<p>Context: 重定向的上下文。</p>
<p>Priority：重定向的优先级</p>
<p>ActionID：（可选）</p>
<p>&nbsp;</p>
<p>例子（把两个呼叫重定向到meetme房间）</p>
<p>Action: Redirect</p>
<p>Channel: Zap/73-1</p>
<p>ExtraChannel: SIP/199testphone-1f3c</p>
<p>Exten: 8600029</p>
<p>Context: default</p>
<p>Priority: 1</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>8600029的上下文是default，并将进入meetme房间。</p>
<p>&nbsp;</p>
<p><strong>SetCDRUserField</strong> <strong>：</strong>设置用户的呼叫详细记录。</p>
<p>参数：UserField，Channel，Append</p>
<p>&nbsp;</p>
<p><strong>SetVar</strong> <strong>：</strong>设置通道变量。</p>
<p>参数：Channel, Variable, Value</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: Setvar<br>Channel: Zap/1-1<br>Variable: AtestVariable<br>Value: This is now set</p>
<p>&nbsp;</p>
<p><strong>SIPpeers</strong> <strong>：</strong>显示sip用户列表。</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: SIPpeers</p>
<p>返回</p>
<p>Response: Success</p>
<p>Message: Peer status list will follow</p>
<p>&nbsp;</p>
<p>Event: PeerEntry</p>
<p>Channeltype: SIP</p>
<p>ObjectName: 3001</p>
<p>ChanObjectType: peer</p>
<p>IPaddress: -none-</p>
<p>IPport: 0</p>
<p>Dynamic: yes</p>
<p>Natsupport: yes</p>
<p>VideoSupport: no</p>
<p>ACL: no</p>
<p>Status: UNKNOWN</p>
<p>RealtimeDevice: no</p>
<p>&nbsp;</p>
<p>Event: PeerEntry</p>
<p>Channeltype: SIP</p>
<p>ObjectName: 2003</p>
<p>ChanObjectType: peer</p>
<p>IPaddress: -none-</p>
<p>IPport: 0</p>
<p>Dynamic: yes</p>
<p>Natsupport: yes</p>
<p>VideoSupport: no</p>
<p>ACL: no</p>
<p>Status: UNKNOWN</p>
<p>RealtimeDevice: no</p>
<p>&nbsp;</p>
<p>Event: PeerEntry</p>
<p>Channeltype: SIP</p>
<p>ObjectName: 2002</p>
<p>ChanObjectType: peer</p>
<p>IPaddress: -none-</p>
<p>IPport: 0</p>
<p>Dynamic: yes</p>
<p>Natsupport: yes</p>
<p>VideoSupport: no</p>
<p>ACL: no</p>
<p>Status: UNKNOWN</p>
<p>RealtimeDevice: no</p>
<p>&nbsp;</p>
<p>Event: PeerEntry</p>
<p>Channeltype: SIP</p>
<p>ObjectName: 2001</p>
<p>ChanObjectType: peer</p>
<p>IPaddress: -none-</p>
<p>IPport: 0</p>
<p>Dynamic: yes</p>
<p>Natsupport: yes</p>
<p>VideoSupport: no</p>
<p>ACL: no</p>
<p>Status: UNKNOWN</p>
<p>RealtimeDevice: no</p>
<p>&nbsp;</p>
<p>Event: PeerlistComplete</p>
<p>ListItems: 4</p>
<p>&nbsp;</p>
<p><strong>Status</strong> <strong>：</strong>返回所有开放通道或指定通道的状态。</p>
<p>参数：Channel (可选), ActionID (可选)</p>
<p>例子：</p>
<p>发送：</p>
<p>Action：Status</p>
<p>&nbsp;</p>
<p>返回：</p>
<p>Response: Success</p>
<p>Message: Channel status will follow</p>
<p>&nbsp;</p>
<p>Event: StatusComplete</p>
<p>&nbsp;</p>
<p><strong>StopMonitor</strong> <strong>：</strong>停止检测某通道。</p>
<p>参数：Channel</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: StopMonitor<br>Channel: Zap/1-1</p>
<p>&nbsp;</p>
<p><strong>ZapDialOffhook</strong> <strong>：</strong>从空闲的ZAP通道拨打呼叫。</p>
<p>参数：</p>
<p>ZapChannel: ZAP 通道<br>Number: 所拨打的号码</p>
<p>&nbsp;</p>
<p><strong>ZapDNDoff</strong> <strong>：</strong>绑定ZAP通道而不影响其关闭状态</p>
<p>参数：ZAPChannel</p>
<p>&nbsp;</p>
<p><strong>ZapDNDon</strong> <strong>：</strong>绑定ZAP通道而不影响其开放状态</p>
<p>参数：ZAPChannel</p>
<p>&nbsp;</p>
<p><strong>ZapHangup</strong> <strong>：</strong>挂断ZAP通道。</p>
<p>参数：ZAPChannel</p>
<p>&nbsp;</p>
<p><strong>ZapTransfer</strong> <strong>：</strong>转拨ZAP通道。</p>
<p>参数：ZAPChannel</p>
<p>&nbsp;</p>
<p><strong>ZapShowChannels</strong> <strong>：</strong>显示所有ZAP通道信息。</p>
<p>参数：ActionID（可选）</p>
<p>&nbsp;</p>
<p>Asterisk 1.2.1新增：</p>
<p><strong>AgentCallBackLogin</strong> <strong>：</strong>设置用户以回拨方式登录。</p>
<p>参数：</p>
<p>Agent:用户登录的ID<br>Exten: 用于回拨的分机<br>Context: 用于回拨的上下文<br>AckCall: 设置在用户回拨时进行验证</p>
<p>WrapupTime: 挂断重拨的最小间隔时间</p>
<p>ActionID:</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: AgentCallBackLogin<br>Agent: 1234<br>Exten: 1234<br>Context: myqueues<br>AckCall: true<br>WrapupTime: 30<br>ActionID: 12345</p>
<p>&nbsp;</p>
<p><strong>AgentLogoff</strong> <strong>：</strong>注销一个用户。</p>
<p>参数：</p>
<p>Agent：用户登录Id</p>
<p>&nbsp;</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: AgentLogoff<br>Agent: 1234</p>
<p>&nbsp;</p>
<p><strong>Agents</strong> <strong>：</strong>显示所有用户信息。</p>
<p>例子：</p>
<p>发送：</p>
<p>Action: Agents</p>
<p>&nbsp;</p>
<p><strong>DBGet</strong> <strong>：</strong>查询数据库信息。</p>
<p>参数：Family，Key</p>
<p>&nbsp;</p>
<p>发送：</p>
<p>Action: DBGet<br>Family:<br>Key:</p>
<p>失败返回：<br>Response: Error<br>Message: Database entry not found</p>
<p>成功返回：<br>Response: Success<br>Message: Result will follow</p>
<p>Event: DBGetResponse<br>Family:<br>Key:<br>Val:</p>
<p>&nbsp;</p>
<p>在Perl脚本中的运用：</p>
<p>use Asterisk::Manager;<br>my $astman = new Asterisk::Manager;<br>$astman-&gt;user(‘’);<br>$astman-&gt;secret(‘’);<br>$astman-&gt;host(‘’);<br>$astman-&gt;connect || die $astman-&gt;error . “/n”;</p>
<p>$astman-&gt;sendcommand(Action =&gt; ‘DBGet’, Family =&gt; ‘’, Key =&gt; ‘’);<br>my @result = $astman-&gt;sendcommand(Event =&gt; ‘DBGetResponse’);<br>$astman-&gt;disconnect;</p>
<p>my $value = $result[7]; -&gt; Value 7 is the returned Value</p>
<p>&nbsp;</p>
<p><strong>DBPut:</strong>更新数据库信息。</p>
<p>发送：</p>
<p>Action: DBPut<br>Family:<br>Key:<br>Value:  (note, as of Asterisk 1.4 The Manager API wants Val: )</p>
<p>返回：<br>Response: Success<br>Message: Updated database successfully</p>
<p>&nbsp;</p>
<p>使用方法同DBGet一样。</p>
<p>&nbsp;</p>
<p><strong>QueuePause</strong> <strong>：</strong>停止/开启队列中某个成员的使用。</p>
<p>参数：</p>
<p>Queue: 成员所在队列名.（可选，如无此项将在成员所在的所有队列停止成员的使用）</p>
<p>Interface: 队列成员名 (如sip/1000, zap/1-1, agent/1000)</p>
<p>Paused: 停止或开启 (true or false)</p>
<p>&nbsp;</p>
<p><strong>SIPshowPeer</strong> <strong>：显示指定</strong> <strong>peer</strong> <strong>信息</strong></p>
<p>参数: peer:指定的peer。</p>
<p>&nbsp;</p>
<p>Asterisk 1.4.0新增：</p>
<p><strong>PlayDTMF</strong> <strong>：</strong>在指定通道上发送双音多频信号数字。</p>
<p>参数：</p>
<p>Channel：指定的通道</p>
<p>Digit：双音多频信号数字</p>
<p>&nbsp;</p>
<p>发送：</p>
<p>Action: PlayDTMF<br>Channel: SIP/123-e2b2<br>Digit: 1</p>
<p>成功返回：</p>
<p>Response: Success<br>Message: DTMF successfully queued</p>
<p>失败返回：</p>
<p>Response: Error<br>Message: No such channel</p>
<p>&nbsp;</p>
<p><strong>UpdateConfig</strong> <strong>：</strong>更新配置文件。</p>
<p>参数：</p>
<p>SrcFilename: 要读取的配置文件(.conf)</p>
<p>DstFilename: 要更新的配置文件(.conf)</p>
<p>Reload: 是否重新加载（asterisk或者模块名称）</p>
<p>Action-XXXXXX: 采取的动作 （NewCat、RenameCat、DelCat、Update、Delete、Append）</p>
<p>Cat-XXXXXX: 操作对象</p>
<p>Var-XXXXXX: 采用的变量</p>
<p>Value-XXXXXX: 变量的值</p>
<p>Match-XXXXXX: 其他匹配信息</p>
<p>&nbsp;</p>
<p>例1：（更新manager.conf）</p>
<p>action: updateconfig</p>
<p>reload: yes</p>
<p>srcfilename: manager.conf</p>
<p>dstfilename: manager.conf</p>
<p>action-000000: append</p>
<p>cat-000000: newuser</p>
<p>var-000000: secret</p>
<p>value-000000: nottelling</p>
<p>例2:(更新extension.conf，通过’&gt;’增加前缀)</p>
<p>action:updateconfig<br>reload:yes<br>srcfilename: extensions.conf<br>dstfilename: extensions.conf<br>Action-000000:append<br>Cat-000000: ami-test<br>Var-000000: exten<br>Value-000000: &gt;999,1,Dial(SIP/Bob)</p>
<p>&nbsp;</p>
<p>例3：（删除manager.conf中的配置信息）</p>
<p>action: updateconfig</p>
<p>srcfilename: manager.conf</p>
<p>dstfilename: manager.conf</p>
<p>action-000000: delete</p>
<p>cat-000000: newuser</p>
<p>var-000000: secret</p>
<p>value-000000: nottelling</p>
<p>match-000000: nottelling</p>
<p>&nbsp;</p>
<p>删除时必须设置’value’和’match’，不设置’match’将会删除变量为’var’所有条目</p>
<p>&nbsp;</p>
<p><strong>GetConfig</strong> <strong>：</strong>显示配置文件内容，主要给AJAM和asterisk图形界面使用。</p>
<p>变量：FileName：显示的文件名（.conf）。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Asterisk</strong> <strong>事件（</strong> <strong>Event</strong> <strong>）</strong> <strong>：</strong></p>
<p>以下的事件都在asterisk源码中定义。</p>
<p>&nbsp;</p>
<p><strong>用户状态事件：</strong></p>
<p>&nbsp;</p>
<p>‘Agentcallbacklogin’ 事件 ：</p>
<p>描述:</p>
<p>[来源于chan_agent.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Agentcallbacklogin</p>
<p>Agent:</p>
<p>Loginchan:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>‘Agentcallbacklogoff’事件</p>
<p>描述:</p>
<p>[来源于chan_agent.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Agentcallbacklogoff</p>
<p>Agent:</p>
<p>Loginchan:</p>
<p>Logintime:</p>
<p>Reason: Autologoff</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>Event: Agentcallbacklogoff</p>
<p>Agent:</p>
<p>Loginchan:</p>
<p>Logintime:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘AgentCalled’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: AgentCalled</p>
<p>AgentCalled:</p>
<p>ChannelCalling:</p>
<p>CallerID:</p>
<p>Context:</p>
<p>Extension:</p>
<p>Priority:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘AgentComplete’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: AgentComplete</p>
<p>Queue:</p>
<p>Uniqueid:</p>
<p>Channel:</p>
<p>Member:</p>
<p>MemberName:</p>
<p>HoldTime:</p>
<p>TalkTime:</p>
<p>Reason:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘AgentConnect’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: AgentConnect</p>
<p>Queue:</p>
<p>Uniqueid:</p>
<p>Channel:</p>
<p>Member:</p>
<p>MemberName:</p>
<p>Holdtime:</p>
<p>BridgedChannel:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘AgentDump’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: AgentDump</p>
<p>Queue:</p>
<p>Uniqueid:</p>
<p>Channel:</p>
<p>Member:</p>
<p>MemberName:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Agentlogin’事件</p>
<p>描述:</p>
<p>[来源于 chan_agent.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Agentlogin</p>
<p>Agent:</p>
<p>Channel:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Agentlogoff’事件</p>
<p>描述:</p>
<p>[来源于 chan_agent.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Agentlogoff</p>
<p>Agent:</p>
<p>Logintime:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘QueueMemberAdded’事件</p>
<p>描述:</p>
<p>&nbsp;</p>
<p>队列增加成员动作</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Queue: testing</p>
<p>Location: Agent/AgentId</p>
<p>Membership: dynamic</p>
<p>Penalty: 0</p>
<p>CallsTaken: 0</p>
<p>LastCall: 0</p>
<p>Status: 4</p>
<p>Paused: 1</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘QueueMemberPaused’事件</p>
<p>&nbsp;</p>
<p>描述:</p>
<p>&nbsp;</p>
<p>响应动作: QueuePause</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: QueueMemberPaused</p>
<p>Location:</p>
<p>MemberName:</p>
<p>Paused:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘QueueMemberStatus’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Status的值可能为:</p>
<p>/<em>设备是有效的，但不知道的通道状态</em>/</p>
<p>define AST_DEVICE_UNKNOWN 0</p>
<p>&nbsp;</p>
<p>/*设备没有使用 */</p>
<p>define AST_DEVICE_NOT_INUSE 1</p>
<p>&nbsp;</p>
<p>/*设备使用中 */</p>
<p>define AST_DEVICE_INUSE 2</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>/*设备忙 */</p>
<p>define AST_DEVICE_BUSY 3</p>
<p>&nbsp;</p>
<p>/*设备无效 */</p>
<p>define AST_DEVICE_INVALID 4</p>
<p>&nbsp;</p>
<p>/*设备不可用 */</p>
<p>define AST_DEVICE_UNAVAILABLE 5</p>
<p>&nbsp;</p>
<p>/* 设备在响铃*/</p>
<p>define AST_DEVICE_RINGING 6</p>
<p>&nbsp;</p>
<p>/<em>设备在响铃并在使用中</em>/</p>
<p>define AST_DEVICE_RINGINUSE 7</p>
<p>&nbsp;</p>
<p>/*设备在等待 */</p>
<p>define AST_DEVICE_ONHOLD 8</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: QueueMemberStatus</p>
<p>Queue:</p>
<p>Location:</p>
<p>MemberName:</p>
<p>Membership:</p>
<p>Penalty:</p>
<p>CallsTaken:</p>
<p>LastCall:</p>
<p>Status:</p>
<p>Paused:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>-</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>命令状态事件：</strong></p>
<p>&nbsp;</p>
<p><strong>呼叫状态事件：</strong></p>
<p>&nbsp;</p>
<p>‘CDR’事件</p>
<p>描述:</p>
<p>[来源于 cdr_manager.c]</p>
<p>&nbsp;</p>
<p>必须在 cdr_manager.conf 配置文件中有：</p>
<p>&nbsp;</p>
<p>general</p>
<p>enabled = yes</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Cdr</p>
<p>AccountCode:</p>
<p>Source:</p>
<p>Destination:</p>
<p>DestinationContext:</p>
<p>CallerID:</p>
<p>Channel:</p>
<p>DestinationChannel:</p>
<p>LastApplication:</p>
<p>LastData:</p>
<p>StartTime:</p>
<p>AnswerTime:</p>
<p>EndTime:</p>
<p>Duration:</p>
<p>BillableSeconds:</p>
<p>Disposition:</p>
<p>AMAFlags:</p>
<p>UniqueID:</p>
<p>UserField:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Dial’事件</p>
<p>描述:</p>
<p>[来源于 app_dial.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Dial</p>
<p>Privilege: call,all</p>
<p>Source: Local/900@default-2dbf,2</p>
<p>Destination: SIP/900-4c21</p>
<p>CallerID:</p>
<p>CallerIDName: default</p>
<p>SrcUniqueID: 1149161705.2</p>
<p>DestUniqueID: 1149161705.4</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘ExtensionStatus’事件</p>
<p>描述:</p>
<p>[来源于 manager.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: ExtensionStatus</p>
<p>Exten:</p>
<p>Context:</p>
<p>Status:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Hangup’事件</p>
<p>描述:</p>
<p>[来源于 channel.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Hangup</p>
<p>Channel: SIP/101-3f3f</p>
<p>Uniqueid: 1094154427.10</p>
<p>Cause: 0</p>
<p>&nbsp;</p>
<p>Cause 代码：</p>
<p>&nbsp;</p>
<p>未分配 = 1</p>
<p>无到达路由 = 2</p>
<p>无路由目的地 = 3</p>
<p>无效通道 = 6</p>
<p>正在通话中 = 7</p>
<p>正常挂机 = 16</p>
<p>用户忙 = 17</p>
<p>无应答 = 18</p>
<p>无人接听 = 19</p>
<p>拒绝接听 = 21</p>
<p>号码已更改 = 22</p>
<p>目的次序不对 = 27</p>
<p>无效的数字格式 = 28</p>
<p>设备拒绝 = 29</p>
<p>查询响应 = 30</p>
<p>正常未指定 = 31</p>
<p>正常的呼叫拥塞 = 34</p>
<p>网络状态差 = 38</p>
<p>正常的临时故障 = 41</p>
<p>交换机拥塞 = 42</p>
<p>信息过时 = 43</p>
<p>请求通道无效 = 44</p>
<p>被抢占 = 45</p>
<p>无呼叫保持或呼叫等待 = 50</p>
<p>禁止呼出 = 52</p>
<p>禁止呼入 = 54</p>
<p>负载过重导致失效 = 57</p>
<p>负载过多导致不可达 = 58</p>
<p>负载过多导致为实现 = 65</p>
<p>通道未实现 = 66</p>
<p>设备未实现 = 69</p>
<p>无效的呼叫证明 = 81</p>
<p>不相容的目的地 = 88</p>
<p>无效的不明信息 = 95</p>
<p>IE浏览器关闭 = 96</p>
<p>不识别的信息类型 = 97</p>
<p>错误信息 = 98</p>
<p>无IE浏览器 = 99</p>
<p>无效的IE信息 = 100</p>
<p>呼叫状态错误 = 101</p>
<p>计时到达 = 102</p>
<p>强制性IE浏览器长度误差 = 103</p>
<p>协议错误 = 111</p>
<p>互通 = 127</p>
<p>未定义的 = 0</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘MusicOnHold’事件</p>
<p>描述:</p>
<p>事件表示电话等待时，播放音乐</p>
<p>示例:</p>
<p>&nbsp;</p>
<p>Event: MusicOnHold</p>
<p>Channel:</p>
<p>State:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Join’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Join</p>
<p>Channel:</p>
<p>CallerID:</p>
<p>Queue:</p>
<p>Position:</p>
<p>Count:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Leave’事件</p>
<p>描述:</p>
<p>[来源于 app_queue.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Leave</p>
<p>Channel:</p>
<p>Queue:</p>
<p>Count:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Link’事件</p>
<p>描述:</p>
<p>当两个通道已连接后开始交换声音数据时发生’link’事件</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>&nbsp;</p>
<p>Event: Link</p>
<p>Channel1: SIP/101-3f3f</p>
<p>Channel2: Zap/2-1</p>
<p>Uniqueid1: 1094154427.10</p>
<p>Uniqueid2: 1094154427.11</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘MeetmeJoin’事件</p>
<p>描述:</p>
<p>[来源于 app_meetme.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: MeetmeJoin</p>
<p>Channel:</p>
<p>Uniqueid:</p>
<p>Meetme:</p>
<p>Usernum:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘MeetmeLeave’事件</p>
<p>描述:</p>
<p>[来源于 app_meetme.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: MeetmeLeave</p>
<p>Channel:</p>
<p>Uniqueid:</p>
<p>Meetme:</p>
<p>Usernum:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘MeetmeStopTalking’事件</p>
<p>描述:</p>
<p>[来源于 app_meetme.c]</p>
<p>&nbsp;</p>
<p>注意：</p>
<p>这要求在meetme应用中以选中T选</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>&nbsp;</p>
<p>Event: MeetmeStopTalking</p>
<p>Privilege: call,all</p>
<p>Channel: SIP/200-ABC1</p>
<p>Uniqueid: 1234567890.1</p>
<p>Meetme: 400</p>
<p>Usernum: 2</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘MeetmeTalking’事件</p>
<p>描述:</p>
<p>[来源于 app_meetme.c]</p>
<p>&nbsp;</p>
<p>注意：</p>
<p>这要求在meetme应用中以选中T选项</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>&nbsp;</p>
<p>Event: MeetmeTalking</p>
<p>Privilege: call,all</p>
<p>Channel: SIP/200-ABC1</p>
<p>Uniqueid: 1234567890.1</p>
<p>Meetme: 400</p>
<p>Usernum: 2</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘MessageWaiting’事件</p>
<p>描述:</p>
<p>[来源于 app_voicemail.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: MessageWaiting</p>
<p>Mailbox: @</p>
<p>Waiting:</p>
<p>New:</p>
<p>Old:</p>
<p>&nbsp;</p>
<p>Event: MessageWaiting</p>
<p>Mailbox:</p>
<p>Waiting:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Newcallerid’事件</p>
<p>描述:</p>
<p>[来源于 channel.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Newcallerid</p>
<p>Channel:</p>
<p>Callerid:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Newchannel’事件</p>
<p>描述:</p>
<p>[来源于 channel.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Newchannel</p>
<p>Channel: Zap/2-1</p>
<p>State: Rsrvd</p>
<p>Callerid:</p>
<p>Uniqueid: 1094154427.11</p>
<p>&nbsp;</p>
<p>Event: Newchannel</p>
<p>Channel: SIP/101-3f3f</p>
<p>State: Ring</p>
<p>Callerid: 101</p>
<p>Uniqueid: 1094154427.10</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Newexten’事件</p>
<p>描述:</p>
<p>当一项PBX函数运行（例如执行拨号规则）时发生此事件。</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Newexten</p>
<p>Channel: SIP/101-00c7</p>
<p>Context: macro-ext</p>
<p>Extension: s</p>
<p>Priority: 3</p>
<p>Application: Goto</p>
<p>AppData: s-BUSY</p>
<p>Uniqueid: 1094154321.8</p>
<p>&nbsp;</p>
<p>Event: Newexten</p>
<p>Channel: SIP/101-3f3f</p>
<p>Context: local_extensions</p>
<p>Extension: 917070</p>
<p>Priority: 1</p>
<p>Application: AGI</p>
<p>AppData: /etc/asterisk/agi/ks_doorman_pickup.py|channel_up</p>
<p>Uniqueid: 1094154427.10</p>
<p>&nbsp;</p>
<p>Event: Newexten</p>
<p>Channel: SIP/101-3f3f</p>
<p>Context: local_extensions</p>
<p>Extension: 917070</p>
<p>Priority: 2</p>
<p>Application: Dial</p>
<p>AppData: Zap/G1/17070</p>
<p>Uniqueid: 1094154427.10</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘ParkedCall’事件</p>
<p>描述:</p>
<p>[来源于 res_features.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: ParkedCall</p>
<p>Exten:</p>
<p>Channel:</p>
<p>From:</p>
<p>Timeout:</p>
<p>CallerID:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Rename’事件</p>
<p>描述:</p>
<p>[来源于 channel.c: channel ‘rename’ event]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Rename</p>
<p>Oldname:</p>
<p>Newname:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘SetCDRUserField’事件</p>
<p>描述:</p>
<p>[来源于 app_setcdruserfield.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Unlink’事件</p>
<p>描述:</p>
<p>&nbsp;</p>
<p>当两个连接的通道断开是发生此事件，通常为挂机时</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>&nbsp;</p>
<p>Event: Unlink</p>
<p>Channel1: SIP/101-3f3f</p>
<p>Channel2: Zap/2-1</p>
<p>Uniqueid1: 1094154427.10</p>
<p>Uniqueid2: 1094154427.11</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘UnParkedCall’事件</p>
<p>描述:</p>
<p>[来源于 res_features.c]</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>日志状态事件：</strong></p>
<p>&nbsp;</p>
<p><strong>系统状态事件：</strong></p>
<p>&nbsp;</p>
<p>‘Alarm’事件:</p>
<p>描述:</p>
<p>[来源于 chan_zap.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Alarm</p>
<p>Alarm:&lt;(Red|Yellow|Blue|No|Unknown)Alarm|Recovering|Loopback|Not Open|None&gt;</p>
<p>Channel:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘AlarmClear’事件:</p>
<p>描述:</p>
<p>[来源于 chan_zap.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: AlarmClear</p>
<p>Channel:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘DNDState’事件:</p>
<p>描述:</p>
<p>[来源于 chan_dahdi.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: DNDState</p>
<p>Channel: Zap/1</p>
<p>Status:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘LogChannel’事件</p>
<p>描述:</p>
<p>[来源于 logger.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: LogChannel</p>
<p>Channel: /var/log/asterisk/messages</p>
<p>Enabled: Yes</p>
<p>&nbsp;</p>
<p>Event: LogChannel</p>
<p>Channel: /var/log/asterisk/messages</p>
<p>Enabled: No</p>
<p>Reason: 13 - Permission denied</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘PeerStatus’事件</p>
<p>描述:</p>
<p>当用户注册或注销时发生此事件</p>
<p>[来源于 chan_sip.c, chan_iax2.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: PeerStatus</p>
<p>Peer: SIP/2005</p>
<p>PeerStatus: Registered</p>
<p>&nbsp;</p>
<p>Event: PeerStatus</p>
<p>Peer: SIP/2005</p>
<p>PeerStatus: Unregistered</p>
<p>Cause: Expired</p>
<p>&nbsp;</p>
<p>Event: PeerStatus</p>
<p>Peer: IAX2/2007</p>
<p>PeerStatus:</p>
<p>Time: 1000</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Registry’事件</p>
<p>描述:</p>
<p>&nbsp;</p>
<p>当应户注册时发生的事件</p>
<p>[来源于 chan_sip.c, chan_iax2.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Registry</p>
<p>Channel: SIP</p>
<p>Domain: sip.domain</p>
<p>Status: Registered</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Reload’事件</p>
<p>描述:</p>
<p>当 “RELOAD” 命令执行时发生此事件</p>
<p>[来源于 manager.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Reload</p>
<p>Message: Reload Requested</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘Shutdown’事件</p>
<p>描述:</p>
<p>[来源于 asterisk.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event: Shutdown</p>
<p>Shutdown:</p>
<p>Restart:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>User Status</strong> <strong>事件：</strong></p>
<p>&nbsp;</p>
<p>‘UserEvent’事件</p>
<p>描述:</p>
<p>[来源于 app_userevent.c]</p>
<p>&nbsp;</p>
<p>示例:</p>
<p>Event:</p>
<p>Channel:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>Event:</p>
<p>Channel:</p>
<p>Uniqueid:</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>详细状态事件：</strong></p>
<pre>'Newstate'事件
</pre>
<p>示例：</p>
<p>Event: Newstate</p>
<p>Channel: Zap/2-1</p>
<p>State: Dialing</p>
<p>Callerid: 101</p>
<p>Uniqueid: 1094154427.11</p>
<p>&nbsp;</p>
<p>Event: Newstate</p>
<p>Channel: Zap/2-1</p>
<p>State: Up</p>
<p>Callerid: 101</p>
<p>Uniqueid: 1094154427.11</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘ParkedCallsComplete:’事件</p>
<p>描述：</p>
<p>发生在ParkedCalls事件之后</p>
<p>示例：</p>
<p>Event: ParkedCallsComplete</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘QueueParams:’事件</p>
<p>描述：</p>
<p>响应Queues动作的事件</p>
<p>示例：</p>
<p>Event: QueueParams</p>
<p>Queue: sales</p>
<p>Max: 0</p>
<p>Calls: 0</p>
<p>Holdtime: 0</p>
<p>Completed: 0</p>
<p>Abandoned: 0</p>
<p>ServiceLevel: 0</p>
<p>ServicelevelPerf: 0.0</p>
<pre>'QueueMember'事件
</pre>
<p>描述：</p>
<p>响应Queues动作并且队列中有成员是发生的事件。</p>
<p>示例：</p>
<p>Event: QueueMember</p>
<p>Queue: sales</p>
<p>Location: SIP/101</p>
<p>Membership: dynamic</p>
<p>Penalty: 0</p>
<p>CallsTaken: 0</p>
<p>LastCall: 0</p>
<pre>'QueueStatusEnd'事件
</pre>
<p>描述：</p>
<p>响应Queues动作表示输出结束。</p>
<p>示例：</p>
<p>Event: QueueStatusEnd</p>
<p>&nbsp;</p>
<pre>'Status'事件
</pre>
<p>示例：</p>
<p>Event: Status</p>
<p>Channel: Zap/2-1</p>
<p>CallerID: 101</p>
<p>Account:</p>
<p>State: Up</p>
<p>Link: SIP/101-5cf0</p>
<p>Uniqueid: 1094166088.26</p>
<p>&nbsp;</p>
<p>Event: Status</p>
<p>Channel: SIP/101-5cf0</p>
<p>&nbsp;</p>
<p>CallerID: 101</p>
<p>Account:</p>
<p>State: Up</p>
<p>Context: local_extensions</p>
<p>Extension: 917070</p>
<p>Priority: 2</p>
<p>Seconds: 11</p>
<p>Link: Zap/2-1</p>
<p>Uniqueid: 1094166088.25</p>
<p>&nbsp;</p>
<p>‘StatusComplete’事件</p>
<p>描述：</p>
<p>响应Status动作的事件，表示状态输出结束。</p>
<p>示例：</p>
<p>Event: StatusComplete</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘ZapShowChannels’事件</p>
<p>描述：</p>
<p>响应ZapShowChannels动作的事件。</p>
<p>示例：</p>
<p>Event: ZapShowChannels</p>
<p>Channel: 2</p>
<p>Signalling: FXS Kewlstart</p>
<p>Context: pstn_menu</p>
<p>Alarm: No Alarm</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>‘ZapShowChannelsComplete事件</p>
<p>描述：</p>
<p>响应ZapShowChannels动作的事件，表示输出结束。</p>
<p>示例：</p>
<p>Event: ZapShowChannelsComplete</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>动作响应（</strong> <strong>Response</strong> <strong>）</strong></p>
<p>格式：</p>
<p>Response: ( Success或Error)</p>
<p>Message: （显示信息）</p>
<p>&nbsp;</p>
<p>示例：</p>
<p>无动作或输入有误：</p>
<p>Response: Error</p>
<p>Message: Missing action in request</p>
<p>&nbsp;</p>
<p>未知命令：</p>
<p>Response: Error</p>
<p>Message: Invalid/unknown command</p>
<p>&nbsp;</p>
<p>无权限：</p>
<p>Response: Error</p>
<p>Message: Permission denied</p>
<p>&nbsp;</p>
<p>成功：</p>
<p>Response: Success</p>
<p>Message: Zap channel status will follow</p>
<p>&nbsp;</p>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2011/07/10/windows7-visual-studio-2010-e5-ad-97-e4-bd-93-e6-a8-a1-e7-b3-8a-e9-97-ae-e9-a2-98-e7-9a-84-e8-a7-a3-e5-86-b3/" data-toggle="tooltip" data-placement="top" title="Windows7 Visual Studio 2010 字体模糊问题的解决	 ">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2011/07/10/e7-a5-9e-e5-b7-9et1600-e7-ac-94-e8-ae-b0-e6-9c-ac-e5-ae-89-e8-a3-85ubuntu10-04desktop/" data-toggle="tooltip" data-placement="top" title="神州T1600笔记本 安装Ubuntu10.04Desktop">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <br>

                <!--打赏-->
                
                <!--打赏-->

                <br>
                <!--分享-->
                
                    <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                    <!--  css & js -->
                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!--分享-->
                <br>                       
                
                <!-- require APlayer -->
                

                <!-- duoshuo Share start -->
                
                <!-- 多说 Share end-->

                <!-- 多说评论框 start -->
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->

                

            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#开发相关" title="开发相关">开发相关</a>
                        
                          <a class="tag" href="/tags/#asterisk" title="asterisk">asterisk</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                </ul>
                
            </div>
        </div>
    </div>
</article>








<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


<!-- chrome Firefox 中文锚点定位失效-->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
<!-- smooth scroll behavior polyfill  -->
<script type="text/javascript" src="/js/smoothscroll.js"></script>
<script>
        $('#toc').on('click','a',function(a){
            // var isChrome = window.navigator.userAgent.indexOf("Chrome") !== -1;
            // console.log(window.navigator.userAgent,isChrome)
                // if(isChrome) {
                    // console.log(a.currentTarget.outerHTML);
                    // console.log($(a.currentTarget).attr("href"));
                    //跳转到指定锚点
                    // document.getElementById(a.target.innerText.toLowerCase()).scrollIntoView(true);
                    document.getElementById($(a.currentTarget).attr("href").replace("#","")).scrollIntoView({behavior: 'smooth' });
                // }
        })  
</script>


    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/josephan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/joseph-bing-han">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Joseph Han 2019 
                    <br>
                    Theme by <a href="http://beantech.org">BeanTech</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://www.huweihuang.com">胡伟煌</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huweihuang&repo=hexo-theme-huweihuang&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://joseph-bing-han.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->




<!-- Baidu Tongji -->






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://joseph-bing-han.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
